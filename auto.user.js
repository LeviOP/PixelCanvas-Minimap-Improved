// ==UserScript==
// @name         Multi User wikipedia
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Automatically place pixels for wikipedia logo
// @author       Levi_OP
// @match        *://pixelcanvas.io/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=pixelcanvas.io
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        GM_addValueChangeListener
// ==/UserScript==
/*globals  store isSameColorIn tryPlacePixel toast*/

(function() {
    'use strict';

    let pixels = [[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,1,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,2,0,0,2,2,2,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,1,0,0,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,2,1,1,2,1,0,1,2,1,2,1,2,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,1,1,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,2,-1,-1,-1,-1,-1,1,1,2,1,1,1,1,2,1,1,2,2,1,1,2,2,2,1,2,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,1,2,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,1,1,1,1,1,1,1,1,2,1,1,2,1,2,1,1,2,1,1,2,1,2,2,3,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,0,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,2,1,2,1,1,3,2,2,2,3,3,2,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,2,1,0,1,0,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,1,1,1,0,1,1,1,2,1,2,1,1,1,1,2,1,2,1,2,1,1,1,2,1,1,2,1,3,2,3,2,2,2,2,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,3,2,0,1,1,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,3,2,2,3,1,1,2,1,1,1,1,1,1,2,2,1,2,1,2,1,3,2,1,3,2,2,1,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,0,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,0,2,3,1,1,1,3,0,2,2,1,1,1,2,1,2,1,2,1,1,2,1,1,1,3,3,2,2,2,2,1,2,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,0,0,1,1,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,0,1,0,1,1,2,1,0,2,2,0,3,2,0,2,1,1,1,2,1,1,1,2,1,1,2,1,2,2,2,1,1,2,1,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,0,1,1,1,1,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,1,2,1,1,0,2,1,0,2,2,1,1,2,1,1,1,1,2,1,1,1,2,1,1,2,1,2,1,1,1,2,2,1,2,1,2,1,1,2,1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,2,0,0,1,1,0,1,1,2,1,1,0,2,2,1,1,1,1,1,2,1,1,2,1,1,2,1,2,2,2,1,2,2,1,2,1,2,2,2,2,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,1,1,1,1,1,0,1,1,0,1,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,2,0,1,1,1,1,1,1,1,0,1,1,1,2,1,1,2,1,1,1,2,1,1,2,1,1,1,2,1,2,2,1,2,2,1,2,2,2,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,0,1,2,1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,3,-1,-1,-1,-1,-1,-1,-1,2,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,1,2,1,2,1,2,1,1,2,1,1,2,2,2,2,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,1,0,1,1,0,1,2,1,0,1,1,0,0,1,2,-1,-1,-1,-1,-1,2,3,2,2,2,-1,2,3,2,3,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,2,1,1,1,2,1,2,1,2,2,1,2,2,1,2,1,2,2,-1,-1,-1,-1,-1],[-1,-1,-1,-1,1,1,1,1,0,0,2,2,1,1,1,0,0,0,1,2,-1,-1,-1,-1,-1,3,2,2,3,3,3,3,2,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,1,1,1,2,1,1,2,1,2,1,2,1,2,2,2,2,2,2,2,-1,-1,-1,-1,-1],[-1,-1,-1,-1,1,1,2,2,2,2,2,1,0,1,0,1,0,1,2,1,-1,-1,-1,-1,-1,2,3,2,2,2,2,2,2,3,3,2,1,0,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,2,1,2,1,2,1,2,2,1,2,3,2,1,2,2,2,-1,-1,-1,-1],[-1,-1,-1,1,1,1,3,2,2,2,1,0,1,1,1,1,1,1,2,-1,-1,-1,-1,2,2,2,2,2,2,2,2,3,2,2,2,2,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,2,1,1,1,2,3,2,2,1,2,2,-1,-1,-1,-1],[-1,-1,-1,1,1,1,0,0,2,2,1,1,0,1,2,2,3,2,2,3,3,2,2,2,2,2,3,2,3,2,3,2,2,3,2,3,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,2,1,1,1,2,1,2,2,2,2,2,3,2,2,2,2,2,-1,-1,-1],[-1,-1,-1,1,1,1,0,1,1,1,1,1,0,2,2,3,2,3,3,2,2,3,3,2,3,2,2,3,2,2,2,2,3,2,2,3,2,0,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,2,1,2,2,1,2,1,2,2,1,2,3,2,1,2,2,2,-1,-1,-1],[-1,-1,1,1,1,1,1,1,1,0,1,0,1,2,2,2,2,2,2,3,2,2,2,2,2,3,2,2,3,2,3,2,2,2,3,2,2,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,2,2,1,1,2,2,2,1,1,2,1,1,1,1,2,1,1,2,2,2,0,2,3,1,2,2,2,-1,-1,-1],[-1,-1,1,1,1,1,1,1,1,0,1,0,1,2,3,2,3,2,2,2,3,2,2,3,2,2,3,2,2,2,3,2,3,3,2,3,2,1,1,1,1,1,1,1,1,1,0,1,1,1,1,2,2,1,3,1,1,1,1,1,1,2,1,1,2,1,2,2,1,2,2,1,2,3,2,3,2,2,1,2,2,2,-1,-1],[-1,-1,1,1,1,1,1,1,1,1,0,1,1,2,2,2,2,2,3,2,2,2,3,2,3,2,2,2,3,3,2,2,2,1,1,0,1,1,0,0,1,1,1,1,1,1,1,1,2,3,1,2,2,1,2,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,1,2,1,2,3,3,2,1,2,2,2,2,-1,-1],[-1,-1,1,1,1,1,1,0,1,0,1,0,1,2,3,3,3,3,2,3,3,3,2,2,2,2,3,2,2,0,1,0,0,0,0,0,1,1,1,1,0,1,0,0,1,2,3,1,1,3,2,1,1,1,2,1,1,2,1,1,2,1,2,1,2,1,1,2,1,2,2,1,2,1,2,2,1,2,2,2,1,2,-1,-1],[-1,1,1,1,1,1,0,1,1,1,0,1,1,2,2,2,2,2,2,1,1,2,2,3,2,3,1,0,0,0,0,0,0,1,0,1,0,1,1,1,0,1,1,1,1,1,3,3,0,0,3,3,0,2,2,0,1,1,2,1,1,1,1,2,2,1,2,1,2,1,1,2,2,2,1,2,2,2,1,2,2,2,2,-1],[-1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,2,3,2,2,2,0,0,0,0,1,0,0,1,0,0,1,1,0,1,0,1,0,1,0,0,3,2,0,1,3,1,0,2,1,1,1,1,2,2,1,2,2,1,1,2,1,1,2,2,1,1,1,2,1,2,1,2,2,2,2,2,-1],[-1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,1,0,0,1,1,2,2,3,2,3,1,0,0,1,0,0,1,0,0,1,1,1,0,0,1,0,1,1,1,0,1,3,1,0,2,3,2,1,1,1,1,1,1,1,2,1,1,1,1,2,1,2,1,1,1,2,2,2,1,2,2,2,1,2,2,2,-1],[-1,1,0,1,1,0,0,1,1,1,1,0,1,1,0,1,1,0,0,0,0,3,3,2,2,3,3,1,1,0,0,1,0,0,0,0,0,1,2,0,1,1,1,0,1,0,1,0,2,3,2,1,2,3,2,0,1,1,1,1,1,1,1,2,1,2,1,2,1,2,2,2,2,1,1,2,2,2,1,2,2,2,2,-1],[-1,1,1,1,3,2,0,1,0,0,1,0,1,1,0,0,0,1,0,0,0,2,3,2,2,2,0,0,0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,2,3,1,0,2,1,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,1,2,1,2,2,1,2,2,2,2,1,2,2,-1],[-1,1,1,1,2,3,1,0,1,1,0,1,1,1,0,1,0,1,0,1,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,0,1,0,1,1,1,1,2,1,1,0,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,2,2,1,1,2,1,2,1,2,2,1,2,2,2,-1],[1,1,0,2,2,2,3,1,0,0,1,0,1,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,1,1,0,1,1,0,1,0,0,1,0,1,1,1,1,0,0,0,1,1,1,1,2,1,2,1,1,2,1,1,2,1,2,1,2,2,1,2,2,1,2,1,2,2,1,2,2,2,2,-1],[1,1,1,0,1,1,2,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,2,2,2,1,0,0,0,0,1,1,1,0,0,1,0,0,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,1,2,1,2,2,1,2,2,1,2,2,2,2,2,-1],[1,1,1,1,2,2,0,0,1,1,1,1,1,0,0,1,0,1,0,0,0,2,2,2,1,2,3,2,0,0,0,1,1,0,1,0,0,0,0,1,1,0,1,0,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,1,1,2,1,2,2,1,2,1,2,3,2,2,2,2],[1,1,0,2,2,3,1,0,1,1,1,1,0,1,1,0,0,0,1,0,2,3,0,0,0,0,3,3,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,1,2,2,2,1,1,1,1,2,1,2,1,2,1,1,2,2,2,2,2,3,2,2,1],[1,1,0,2,2,1,2,1,1,1,1,0,0,1,0,1,0,1,0,0,3,2,0,0,0,0,1,3,2,0,0,1,2,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,0,1,1,1,1,1,1,2,2,1,1,1,1,2,1,2,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2],[1,1,0,1,2,3,2,0,1,1,0,1,1,0,1,0,1,0,0,0,3,2,0,0,1,0,0,3,2,0,0,0,0,1,1,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,2,1,2,1,1,1,2,2,2,2,3,2,2,-1],[1,1,1,1,2,2,0,1,1,1,1,1,1,0,1,0,0,1,0,0,3,2,0,0,0,0,1,3,1,0,0,1,0,1,1,0,1,0,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,2,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,2,2,2,-1],[1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,1,1,0,1,0,2,3,2,0,0,1,2,2,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,1,1,0,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,2,1,2,1,2,1,2,1,2,1,2,2,3,2,2,2,2,-1],[-1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,1,0,0,0,1,2,1,0,1,3,2,3,2,0,1,0,1,0,1,0,1,0,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,2,1,2,2,2,1,1,2,1,1,1,2,1,2,1,2,1,2,2,1,2,2,3,2,2,-1],[-1,1,1,1,1,1,1,0,1,1,0,0,1,1,0,1,0,0,1,0,2,2,3,3,1,1,3,2,3,1,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,1,0,1,1,1,1,2,1,1,1,0,1,2,1,1,2,3,2,1,1,1,2,2,1,2,1,2,2,2,2,1,2,2,2,2,2,2,2,-1],[-1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,0,2,3,2,2,1,0,1,0,0,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,2,2,2,1,1,2,3,2,1,2,1,1,1,2,1,2,1,2,1,2,2,1,2,2,2,2,2,2,-1],[-1,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,3,0,1,1,2,3,2,1,1,2,1,2,1,2,1,2,1,2,1,2,2,2,1,2,2,2,2,-1],[-1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,3,1,0,2,2,2,3,1,2,1,2,1,2,1,2,1,2,1,2,2,1,2,2,2,2,2,2,-1],[-1,-1,1,1,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,0,2,1,2,3,2,1,1,1,2,1,2,1,2,2,2,1,2,2,2,2,2,2,2,-1,-1],[-1,-1,1,1,2,1,0,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,1,2,0,1,3,2,1,2,1,1,2,1,2,1,1,2,2,1,2,2,2,2,2,2,-1,-1],[-1,-1,1,1,2,2,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,0,1,1,0,1,1,1,1,1,0,1,1,0,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,2,2,1,1,3,3,1,1,2,2,1,2,1,2,2,1,2,2,2,1,2,2,2,2,-1,-1],[-1,-1,1,1,1,1,2,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,2,3,2,0,2,1,3,2,1,2,1,1,2,1,2,2,2,2,2,2,2,2,2,2,2,-1,-1,-1],[-1,-1,-1,1,2,2,2,1,0,1,1,1,1,1,1,0,1,1,0,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0,2,1,0,0,1,1,2,1,1,1,1,1,1,1,1,1,3,2,1,1,2,1,1,1,2,1,2,1,2,1,1,2,2,1,2,1,2,2,2,2,-1,-1,-1],[-1,-1,-1,-1,1,2,2,2,2,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,2,1,1,2,1,0,1,1,1,1,1,1,1,1,2,3,2,1,1,1,2,1,2,1,2,1,2,1,2,2,1,2,2,2,2,2,2,2,2,-1,-1,-1],[-1,-1,-1,1,2,1,0,3,2,1,1,1,1,1,0,1,1,1,0,0,1,0,1,1,1,1,0,1,1,0,0,1,0,1,0,1,0,1,1,1,1,0,0,2,1,0,1,1,1,1,1,2,1,1,2,1,2,0,1,1,2,2,1,1,2,1,2,1,2,2,1,2,2,2,1,2,2,2,3,3,-1,-1,-1,-1],[-1,-1,-1,-1,-1,1,2,2,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,2,0,1,1,2,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,1,2,1,2,2,1,2,1,2,2,2,3,2,2,-1,-1,-1,-1],[-1,-1,-1,-1,1,1,2,1,3,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,2,3,1,0,3,2,1,2,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,2,1,1,2,1,2,2,1,2,1,2,1,2,2,2,2,2,1,2,3,3,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,1,1,1,2,2,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,2,1,3,1,2,1,2,3,1,0,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2,1,2,1,2,2,1,2,1,2,2,1,2,2,2,3,2,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,1,1,1,0,2,1,1,1,1,1,1,1,1,1,1,1,0,1,1,2,2,2,1,2,2,1,3,2,1,0,1,1,1,1,1,1,1,1,1,1,0,1,2,1,1,2,1,1,2,1,1,1,1,2,1,1,2,1,2,1,2,1,1,2,2,2,1,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,0,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,0,2,1,1,1,1,1,1,1,1,2,1,1,1,2,2,1,2,1,2,1,1,2,1,2,2,2,1,2,2,2,2,2,2,2,3,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,2,3,1,1,1,2,2,3,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,2,2,1,2,2,2,2,1,2,2,2,3,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,1,2,2,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,2,1,2,1,2,1,2,2,1,2,1,2,2,1,2,2,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,0,1,2,2,2,2,2,2,3,2,2,1,0,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,2,1,1,1,1,1,3,3,3,3,2,1,2,1,2,2,2,1,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,1,2,0,0,2,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,2,2,1,2,3,3,3,3,2,2,2,2,2,1,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,2,1,1,2,1,1,2,1,1,1,1,3,2,1,2,1,2,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,2,1,1,1,1,1,1,2,1,1,2,1,2,2,2,1,2,3,1,2,2,2,2,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,2,2,1,2,1,2,1,1,2,1,2,1,1,1,2,2,3,2,1,2,1,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,2,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1,1,1,2,1,2,1,1,2,1,2,1,2,2,2,1,2,3,1,2,2,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,2,1,2,1,1,2,2,1,2,1,2,1,2,1,2,2,2,2,2,2,2,2,1,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,1,1,2,1,1,1,1,1,2,1,1,1,2,1,2,1,1,1,1,1,2,1,1,1,1,2,1,2,1,1,2,1,2,1,1,2,1,2,2,1,2,2,2,2,2,2,2,1,2,1,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,1,1,2,1,2,1,1,1,1,2,1,1,1,0,1,1,1,2,1,1,2,1,2,1,1,2,1,1,2,1,1,1,2,1,2,1,2,1,2,2,1,2,1,2,1,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,2,1,1,1,1,1,2,1,1,1,1,1,2,2,2,2,2,1,1,2,1,1,1,2,1,1,2,1,2,1,2,2,1,2,1,2,1,2,2,1,2,2,2,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,2,2,1,2,1,1,1,2,1,2,1,2,2,2,2,1,2,2,1,1,2,2,1,2,1,1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,1,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,2,1,2,2,1,1,1,1,1,1,2,1,1,1,1,2,2,1,1,2,2,2,2,1,2,1,1,2,2,1,2,1,2,1,2,2,1,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,1,2,1,1,2,2,1,2,1,2,2,2,1,2,1,1,2,2,2,1,1,2,1,2,1,2,2,1,2,1,2,1,2,2,1,2,2,2,3,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,2,1,2,2,1,2,2,2,2,2,2,2,2,3,1,1,2,1,2,2,1,2,1,2,2,2,2,2,2,2,2,2,2,3,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,1,2,1,1,2,1,2,2,2,2,2,2,2,2,2,2,1,2,1,2,2,1,2,2,1,2,2,2,2,2,2,3,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,2,1,1,1,2,1,1,2,1,1,2,1,2,1,2,1,2,2,1,2,2,2,1,2,1,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,1,2,2,1,2,2,3,2,2,1,2,1,2,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]]

    let x = 0;
    let y = 0;

    let width = pixels[0].length - 1;
    let height = pixels.length - 1;

    let px = -319;
    let py = 207;

    function next() {
        const c = pixels[y][x];
        if (c === -1) return adv();
        const pos = [x + px, y + py];
        if (isSameColorIn(store.getState(), pos, c)) return adv();
        console.log(`Placing color ${c} at ${pos.join(", ")}`);
        store.dispatch(tryPlacePixel(pos, toast, c));
        setTimeout(() => {
            const timeUntil = new Date(store.getState().user.wait).getTime() - Date.now();
            if (timeUntil) {
                setTimeout(adv, timeUntil);
            } else {
                adv();
            }
        }, 5000);
    }

    function adv() {
        if (x >= width) {
            x = 0;
            y++;
        } else {
            x++;
        }
        if (y >= height) return console.log("Finished placing");
        next();
    }

    let host;
    GM_addValueChangeListener("com", (_name, _oldValue, newValue, remote) => {
        //console.log(`com listener activated\nname: ${name}, oldValue: ${oldValue}, newValue: ${newValue}, remote: ${remote}`)
        if (!remote || !host) return;
        if (newValue === 1) GM_setValue("com", 2);
    })

    window.addEventListener("load", () => {
        //console.log("sending com ping")
        GM_setValue("com", 1);
        setTimeout(() => {
            //console.log("getting com result")
            switch(GM_getValue("com")) {
                case 1:
                    //console.log("no com response")
                    GM_setValue("com", 0);
                    host = true;
                    const timeUntil = new Date(store.getState().user.wait).getTime() - Date.now();
                    if(timeUntil) setTimeout(next, timeUntil);
                    else next();
                    break;
                case 2:
                    console.log("Not starting as another tab is already placing.");
                    GM_setValue("com", 0);
                    break;
            }
        }, 7000)
    })
})();
